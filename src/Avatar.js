import './Avatar.css';
import anime from 'animejs';
import { useEffect } from 'react';

const Avatar = props => {
     const surprise = () => {
          let initialCoords = "m 69.464556,96.407308 3.189433,77.040282 c 0,0 13.716854,7.69499 30.830861,7.56925 17.114,-0.12574 28.98469,-7.56925 28.98469,-7.56925 l 4.14649,-78.886439 -21.78468,-3.692317 V 80.714958 l -12.60461,0.896284 c 0,0 -32.913024,15.030306 -32.762184,14.796066 z";
          let surpriseCoords = "m 67.26565,88.344652 5.388339,85.102938 c 0,0 13.716854,7.69499 30.830861,7.56925 17.114,-0.12574 28.98469,-7.56925 28.98469,-7.56925 l 4.14649,-86.58261 -21.78468,-4.058802 V 69.720427 l -14.07055,3.828159 c 0,0 -33.64599,15.030306 -33.49515,14.796066 z";
          let initialGlassesCoords = "matrix(0.9980332,0,0,0.9980332,-11.507941,-52.140401)";
          let surpriseGlassesCoords = "matrix(1.0937742,0,0,1.1895152,-21.293908,-82.052109)";

          var animation = anime.timeline({
               easing: 'easeOutElastic(1, .8)',
               duration: 400
          });
          animation.add({
               targets: '.Avatar-profile-head',
               d: [initialCoords, surpriseCoords],
          }, 500).add({
               targets: '.Avatar-glasses',
               transform: [initialGlassesCoords, surpriseGlassesCoords],
          }, '-=400').add({
               targets: '.Avatar-exclamation-point',
               opacity: [0, 1]
          }).add({
               targets: '.Avatar-exclamation-point',
               opacity: [1, 0]
          }).add({
               targets: '.Avatar-profile-head',
               d: [surpriseCoords, initialCoords],
          }).add({
               targets: '.Avatar-glasses',
               transform: [surpriseGlassesCoords, initialGlassesCoords],
          }, '-=400').add({
               targets: ".Avatar-glasses-top",
               fill: ['#97b5e2', '#000', '#97b5e2']
          });
     };

     useEffect(() => {
          surprise();
     }, []);

     return (
          <svg className="Avatar-container" width="185.96899" height="185.96899">
               <circle className="Avatar-circle-container" cx="93.195091" cy="93.254318" r="92.053001" />
               <g className="Avatar-tshirt" transform="matrix(0.9980332,0,0,0.9980332,-11.507941,-52.140401)">
                    <path className="Avatar-tshirt-body" d="m 96.801786,193.24174 -35.701226,20.61201 -1.382169,2.43165 1.257345,9.20536 c 13.484309,7.33167 28.585104,11.18237 43.933704,11.20308 15.41031,-0.0199 30.57004,-3.90062 44.09443,-11.28772 l 1.0977,-8.93911 -1.68486,-2.82541 -38.56039,-20.39986 c 0,0 -2.85202,1.73138 -6.26637,1.69664 -3.41434,-0.0347 -6.788164,-1.69664 -6.788164,-1.69664 z" />
                    <path className="Avatar-tshirt-sleeve-endings" d="m 560.94531,807.46289 -51.71679,58.64063 58.08398,-47.96094 z m -330.01367,0.80273 -5.22461,9.18946 43.83985,50.04297 z" transform="scale(0.26458333)" />
               </g>
               <g className="Avatar-profile" transform="matrix(0.9980332,0,0,0.9980332,-11.507941,-52.140401)">
                    <path className="Avatar-profile-neck" d="m 96.801951,180.36463 v 12.87692 c 0,0 3.633449,1.69706 6.788239,1.69706 3.1548,0 6.26608,-1.69706 6.26608,-1.69706 v -13.39909 z" />
                    <path className="Avatar-profile-head" d="m 69.464556,96.407308 3.189433,77.040282 c 0,0 13.716854,7.69499 30.830861,7.56925 17.114,-0.12574 28.98469,-7.56925 28.98469,-7.56925 l 4.14649,-78.886439 -21.78468,-3.692317 V 80.714958 l -12.60461,0.896284 c 0,0 -32.913024,15.030306 -32.762184,14.796066 z" />
               </g>
               <g className="Avatar-glasses" transform="matrix(0.9980332,0,0,0.9980332,-11.507941,-52.140401)">
                    <path className="Avatar-glasses-bottom" d="m 80.718149,117.19079 a 19.510474,19.510474 0 0 0 -19.510402,19.51039 19.510474,19.510474 0 0 0 19.510402,19.5104 19.510474,19.510474 0 0 0 19.510771,-19.5104 19.510474,19.510474 0 0 0 -19.510771,-19.51039 z m 42.989501,0 a 19.510474,19.510474 0 0 0 -19.51076,19.51039 19.510474,19.510474 0 0 0 19.51076,19.5104 19.510474,19.510474 0 0 0 19.51041,-19.5104 19.510474,19.510474 0 0 0 -19.51041,-19.51039 z" />
                    <path className="Avatar-glasses-top" d="m 80.718149,114.92442 a 19.510474,19.510474 0 0 0 -19.510402,19.51041 19.510474,19.510474 0 0 0 19.510402,19.51041 19.510474,19.510474 0 0 0 19.510771,-19.51041 19.510474,19.510474 0 0 0 -19.510771,-19.51041 z m 42.989501,0 a 19.510474,19.510474 0 0 0 -19.51076,19.51041 19.510474,19.510474 0 0 0 19.51076,19.51041 19.510474,19.510474 0 0 0 19.51041,-19.51041 19.510474,19.510474 0 0 0 -19.51041,-19.51041 z" />
               </g>
               <path className="Avatar-exclamation-point" d="m 148.8619,37.032724 c -2.42134,-0.01459 -4.8322,1.216649 -6.68739,3.825132 l 2.73438,24.807669 c 0,0 0.60214,1.965418 3.64106,1.965418 3.03892,0 3.66874,-1.965418 3.66874,-1.965418 l 3.0425,-25.402063 c -1.84093,-2.103874 -4.12469,-3.217036 -6.39929,-3.230738 z m -0.33146,33.436569 c -2.93287,-1.6e-5 -5.31046,2.377499 -5.31053,5.310367 -2e-5,2.932933 2.3776,5.31055 5.31053,5.310534 2.93287,-7.3e-5 5.31039,-2.377664 5.31037,-5.310534 -7e-5,-2.932806 -2.37756,-5.310295 -5.31037,-5.310367 z"  />
          </svg>
     );
}

export default Avatar;
